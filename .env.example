# All env vars live in this single root .env file.
# Sub-packages load it via `with-env` scripts (bun --env-file).
# Next.js vars are mapped from canonical names in next.config.ts.

# ── Convex (required) ──
CONVEX_DEPLOYMENT=dev:your-deployment-slug
CONVEX_URL=https://your-deployment.convex.cloud
CONVEX_SITE_URL=https://your-deployment.convex.site

# ── Runtime restriction (set in Convex prod) ──
# Set to 1 to force task execution to Cloudflare dynamic worker runtime only.
# EXECUTOR_CLOUDFLARE_DYNAMIC_WORKER_ONLY=1

# ── WorkOS (optional — enables auth, omit for guest-only mode) ──
# WORKOS_CLIENT_ID=client_...
# WORKOS_API_KEY=sk_test_...
# WORKOS_COOKIE_PASSWORD=<32+ char random string, e.g. openssl rand -base64 32>
# WORKOS_WEBHOOK_SECRET=...

# ── Anonymous JWT Auth (optional — enables guest bearer auth via Convex Auth) ──
# Generate an ES256 key pair (PKCS8 private + SPKI public), then set both PEM values.
# ANONYMOUS_AUTH_PRIVATE_KEY_PEM="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"
# ANONYMOUS_AUTH_PUBLIC_KEY_PEM="-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----"
# Optional overrides:
# ANONYMOUS_AUTH_TOKEN_TTL_SECONDS=604800

# ── Stripe Billing (optional — required for checkout/portal) ──
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...
# STRIPE_PRICE_ID=price_...
# BILLING_SUCCESS_URL=http://localhost:4312/organization?tab=billing&success=true
# BILLING_CANCEL_URL=http://localhost:4312/organization?tab=billing&canceled=true
# BILLING_RETURN_URL=http://localhost:4312/organization?tab=billing

# ── Local port overrides (optional) ──
# EXECUTOR_BACKEND_PORT=5410
# EXECUTOR_BACKEND_SITE_PORT=5411
# EXECUTOR_WEB_PORT=5312
# ASSISTANT_PORT=3002

# ── MCP OAuth (optional) ──
# Set to 1 to enable self-issued anonymous OAuth even without WorkOS auth.
# MCP_ENABLE_ANONYMOUS_OAUTH=1

# ── Discord bot (optional — omit to skip bot startup) ──
# DISCORD_BOT_TOKEN=...

# ── Assistant (optional) ──
# OPENASSISTANT_EXECUTOR_URL=http://localhost:3001
# OPENASSISTANT_CALLBACK_BASE_URL=http://localhost:3002

# ── Tool source API keys (optional) ──
# POSTHOG_PERSONAL_API_KEY=...
# POSTHOG_PROJECT_ID=...
# OPENASSISTANT_GITHUB_TOKEN=...
# VERCEL_TOKEN=...
