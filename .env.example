# All env vars live in this single root .env file.
# Sub-packages load it via `with-env` scripts (bun --env-file).
# Env vars are read directly by the runtime; set VITE_* for client-exposed
# values and canonical names (such as CONVEX_URL) for server/runtime usage.

# ── Convex (required) ──
CONVEX_DEPLOYMENT=dev:your-deployment-slug
CONVEX_URL=https://your-deployment.convex.cloud
CONVEX_SITE_URL=https://your-deployment.convex.site

# ── Runtime execution mode (set in Convex prod) ──
# When enabled, local Bun execution is allowed.
# Leave unset in production to default to Cloudflare runtime.
# DANGEROUSLY_ALLOW_LOCAL_VM=1

# ── Agent storage backend (optional) ──
# Default: agentfs-local
# NOTE: agentfs-local is for self-hosted/single-host deployments only.
# Hosted Convex deployments must use AGENT_STORAGE_PROVIDER=agentfs-cloudflare.
# AGENT_STORAGE_PROVIDER=agentfs-local
# AGENT_STORAGE_ROOT=/tmp/executor-agentfs
# Optional: disable metadata writes for read-only storage inspector/tool reads.
# AGENT_STORAGE_TOUCH_ON_READ=false
# For Cloudflare Durable Objects storage proxy (served by runner-sandbox-host):
# AGENT_STORAGE_PROVIDER=agentfs-cloudflare
# Reuses CLOUDFLARE_SANDBOX_RUN_URL and CLOUDFLARE_SANDBOX_AUTH_TOKEN from the runtime config.

# ── WorkOS (optional — enables auth, omit for anonymous mode) ──
# WORKOS_CLIENT_ID=client_...
# WORKOS_API_KEY=sk_test_...
# WORKOS_COOKIE_PASSWORD=<32+ char random string, e.g. openssl rand -base64 32>
# WORKOS_WEBHOOK_SECRET=...

# ── Anonymous JWT Auth (optional — enables anonymous bearer auth via Convex Auth) ──
# Generate an ES256 key pair (PKCS8 private + SPKI public), then set both PEM values.
# ANONYMOUS_AUTH_PRIVATE_KEY_PEM="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"
# ANONYMOUS_AUTH_PUBLIC_KEY_PEM="-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----"
# Optional overrides:
# ANONYMOUS_AUTH_TOKEN_TTL_SECONDS=604800
# MCP API key signing secret (optional; falls back to ANONYMOUS_AUTH_PRIVATE_KEY_PEM when unset)
# MCP_API_KEY_SECRET=change-me

# ── Stripe Billing (optional — required for checkout/portal) ──
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...
# STRIPE_PRICE_ID=price_...
# BILLING_SUCCESS_URL=http://localhost:4312/organization?tab=billing&success=true
# BILLING_CANCEL_URL=http://localhost:4312/organization?tab=billing&canceled=true
# BILLING_RETURN_URL=http://localhost:4312/organization?tab=billing

# ── Local port overrides (optional) ──
# EXECUTOR_BACKEND_PORT=5410
# EXECUTOR_BACKEND_SITE_PORT=5411
# EXECUTOR_WEB_PORT=5312
# ASSISTANT_PORT=3002

# ── MCP OAuth for /mcp (optional) ──
# MCP_AUTHORIZATION_SERVER=https://your-authkit-domain.authkit.app

# ── Discord bot (optional — omit to skip bot startup) ──
# DISCORD_BOT_TOKEN=...

# ── Assistant (optional) ──
# OPENASSISTANT_EXECUTOR_URL=http://localhost:3001
# OPENASSISTANT_CALLBACK_BASE_URL=http://localhost:3002

# ── Tool source API keys (optional) ──
# POSTHOG_PERSONAL_API_KEY=...
# POSTHOG_PROJECT_ID=...
# OPENASSISTANT_GITHUB_TOKEN=...
# VERCEL_TOKEN=...
